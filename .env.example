# T-Minus Environment Variables
# Copy to .env and fill in real values. NEVER commit .env to git.

# -- Cloudflare credentials --------------------------------------------------
# API token with Workers/D1/Queues permissions. Create at:
# https://dash.cloudflare.com/profile/api-tokens
export CLOUDFLARE_API_TOKEN="your-api-token-here"

# Cloudflare account ID. Found in the dashboard sidebar.
export CLOUDFLARE_ACCOUNT_ID="your-account-id-here"

# Zone ID for tminus.ink. Found in the Cloudflare dashboard -> tminus.ink -> Overview sidebar.
# Required for DNS setup and production deployment.
export TMINUS_ZONE_ID="your-zone-id-for-tminus-ink"

# -- Google OAuth credentials ------------------------------------------------
# Create at: https://console.cloud.google.com/apis/credentials
export GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
export GOOGLE_CLIENT_SECRET="your-google-client-secret"

# -- Microsoft OAuth credentials --------------------------------------------
# Create at: https://entra.microsoft.com/ -> App registrations
# Required scopes: Calendars.ReadWrite, User.Read, offline_access
export MS_CLIENT_ID="your-microsoft-client-id"
export MS_CLIENT_SECRET="your-microsoft-client-secret"

# -- Shared secrets -----------------------------------------------------------
# MASTER_KEY is used for envelope encryption across api and oauth workers.
# JWT_SECRET is used for API auth / state encryption across api and oauth workers.
# IMPORTANT: Both must be the same value across tminus-api and tminus-oauth.
# Generate with: openssl rand -base64 32
export MASTER_KEY="generate-with-openssl-rand-base64-32"
export JWT_SECRET="generate-with-openssl-rand-base64-32"

# -- Test credentials (optional, for integration tests) ----------------------
# Pre-authorized Google OAuth refresh tokens for test accounts.
# Required only for running real integration tests (make test-integration).
# export GOOGLE_TEST_REFRESH_TOKEN_A="your-test-refresh-token-a"
# export GOOGLE_TEST_REFRESH_TOKEN_B="your-test-refresh-token-b"

# Pre-authorized Microsoft OAuth refresh token for cross-provider E2E tests.
# Required only for running cross-provider tests (make test-e2e).
# export MS_TEST_REFRESH_TOKEN_B="your-microsoft-test-refresh-token"

# -- Live test credentials (optional, for deployed stack tests) ---------------
# Used by: make test-live, make test-live-staging
# These tests hit the real deployed API -- no mocks, no local servers.
# Tests skip gracefully when LIVE_BASE_URL is not set.
#
# Base URL of the deployed API.
# export LIVE_BASE_URL="https://api.tminus.ink"
#
# JWT token for authenticated live test requests.
# Obtain by registering/logging in via the deployed API, or from the
# walking skeleton OAuth flow (see TM-qt2f delivery notes).
# export LIVE_JWT_TOKEN="your-jwt-token-from-deployed-api"
